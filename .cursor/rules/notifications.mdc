# Notifications & Reminders Rules

## Purpose

Implement a **configurable notification system** that nudges users without being obnoxious.

Initial focus is **web**:
- Use browser notifications where possible.
- Design APIs so they can later support mobile/native notifications with Expo.

## Design

- Abstract notifications behind a service in `src/services/notifications`:
  - `scheduleDailyReminder(timeOfDay, payload)`
  - `cancelDailyReminder(id)`
  - `fireImmediateNotification(payload)`
- This service chooses the underlying platform:
  - For web: browser Notification API (with permission checks) or fallback in-app banners.
  - For mobile/Expo (later): use `expo-notifications` or equivalent.

## Notification Types

- Daily “Today’s plan” reminder.
- “You are X days behind” alert.
- “You’re ahead of schedule—want to tighten your deadline or ramp up?” prompt.
- Optional “Weekly review” reminder.

All types should:

- Be toggleable in Settings.
- Respect platform-level permissions and user choices.

## Scheduling Rules

- Daily reminder:
  - Use user-configured local time.
- Behind schedule notification:
  - Trigger only once when crossing new thresholds (e.g., 1, 3, 7 days behind).
- Ahead schedule notification:
  - Trigger when ahead by a configured threshold (e.g., 7 days).

## Cursor Guidance

- Do not hard-code times; read them from `Settings`.
- Provide graceful degradation if notifications are not available on the platform:
  - e.g. show inline in-app banners instead of OS-level notifications.
